# Данный телеграм бота является проектной деяительностью.

*ОТДЕЛЬНАЯ ПРОСЬБА НЕ ИСПОЛЬЗОВАТЬ ЕГО ПОД КОММЕРЧЕСКИЕ ПРОЕКТЫ*



# API DOCS:

# **Документация API для Telegram-бота "Напоминатель"**  

## **1. Общая информация**  
API предоставляет возможность управлять задачами (напоминаниями) через HTTP-запросы.  
- **Базовый URL:** `http://localhost:3000/api` (или ваш хост)  
- **Формат данных:** JSON  
- **Методы:** GET, POST  

---

## **2. Эндпоинты**  

### **2.1. Получить список всех задач**  
**URL:** `GET /api/tasks`  
**Описание:** Возвращает все задачи из базы данных.  

**Пример запроса:**  
```bash
curl -X GET http://localhost:3000/api/tasks
```  

**Пример ответа (200 OK):**  
```json
[
  {
    "id": 1,
    "userId": 123,
    "text": "Сделать уроки",
    "time": "18:00"
  },
  {
    "id": 2,
    "userId": 456,
    "text": "Купить хлеб",
    "time": "20:30"
  }
]
```  

---

### **2.2. Добавить новую задачу**  
**URL:** `POST /api/task`  
**Описание:** Создает новую задачу-напоминание.  

**Параметры запроса (body):**  
| Параметр | Тип    | Обязательный | Описание               |
|----------|--------|--------------|------------------------|
| userId   | number | Да           | ID пользователя в Telegram |
| text     | string | Да           | Текст задачи           |
| time     | string | Да           | Время в формате `HH:MM` |

**Пример запроса:**  
```bash
curl -X POST http://localhost:3000/api/task \
  -H "Content-Type: application/json" \
  -d '{
    "userId": 123,
    "text": "Позвонить маме",
    "time": "15:30"
  }'
```  

**Пример ответа (201 Created):**  
```json
{
  "taskId": 3,
  "message": "Задача добавлена"
}
```  

**Ошибки:**  
- `400 Bad Request` – если не хватает параметров.  
- `500 Internal Server Error` – ошибка сервера.  

---

### **2.3. Удалить задачу** *(не реализовано в текущем API, но можно добавить)*  
**URL:** `DELETE /api/task/:id`  
**Описание:** Удаляет задачу по её ID.  

**Параметры запроса (URL):**  
| Параметр | Тип    | Обязательный | Описание   |
|----------|--------|--------------|------------|
| id       | number | Да           | ID задачи  |  

**Пример запроса:**  
```bash
curl -X DELETE http://localhost:3000/api/task/3
```  

**Пример ответа (200 OK):**  
```json
{
  "message": "Задача 3 удалена"
}
```  

**Ошибки:**  
- `404 Not Found` – если задача не существует.  

---

## **3. Примеры использования**  

### **3.1. Интеграция с веб-приложением**  
```javascript
// Добавление задачи через JavaScript (Fetch API)
fetch('http://localhost:3000/api/task', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    userId: 123,
    text: "Сделать проект",
    time: "19:00"
  })
})
.then(res => res.json())
.then(data => console.log(data));
```  

### **3.2. Получение списка задач (Python)**  
```python
import requests

response = requests.get("http://localhost:3000/api/tasks")
print(response.json())
```  

---

## **4. Лимиты и безопасность**  
- **Нет аутентификации** – API открыт для всех (в учебных целях).  
- **Для продакшена** добавьте:  
  - API-ключи (`Authorization: Bearer <токен>`).  
  - Валидацию времени (`HH:MM`).  

---

## **5. Дополнительные возможности**  
Если нужно расширить API, можно добавить:  
- `PATCH /api/task/:id` – изменить задачу.  
- `GET /api/tasks?userId=123` – фильтр по пользователю.  

---